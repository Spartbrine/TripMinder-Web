<h1 mat-dialog-title *ngIf="data.options.update && !readonly; else newone">Actualizar Instalacion "{{data.temporal.name}}"</h1>
<ng-template #newone>
    <h1 mat-dialog-title *ngIf="!readonly; else detail">Nueva Instalacion</h1>
</ng-template>
<ng-template #detail>
    <h1 mat-dialog-title>Detalles de la Instalacion: "{{data.entity.name}}"</h1>
</ng-template>
<div mat-dialog-content>
    <form role="form" #userForm="ngForm">
        <p class="small-text">Información General</p>
        <div class="row">
            <div class="col-md-12">
                <div class="form-group form-group-default required" pgFormGroupDefault>
                    <label>Nombre de la Instalacion</label>
                    <input type="text" class="form-control" [(ngModel)]="data.entity.name" name="name" id="name" placeholder="Ingrese la Instalacion" #name="ngModel" required [disabled]="readonly">
                </div>
                <div *ngIf="name.invalid && (name.dirty || name.touched)">
                    <label class="error">Este campo es requerido.</label>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-group form-group-default required" pgFormGroupDefault>
                    <label>Telefono de la Instalacion</label>
                    <input type="text" class="form-control" [(ngModel)]="data.entity.phone" name="phone" id="phone" placeholder="Ingrese el telefono de la Instalacion" #phone="ngModel" required [disabled]="readonly">
                </div>
                <div *ngIf="phone.invalid && (phone.dirty || phone.touched)">
                    <label class="error">Este campo es requerido.</label>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-group form-group-default required" pgFormGroupDefault>
                    <label>Longitud de la Instalacion</label>
                    <input type="text" class="form-control" [(ngModel)]="data.entity.longitude" name="longitude" id="longitude" placeholder="Longitud de la Instalacion" #longitude="ngModel" required [disabled]="readonly">
                </div>
                <div *ngIf="longitude.invalid && (longitude.dirty || longitude.touched)">
                    <label class="error">Este campo es requerido.</label>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-group form-group-default required" pgFormGroupDefault>
                    <label>Latitud de la Instalacion</label>
                    <input type="text" class="form-control" [(ngModel)]="data.entity.latitude" name="latitude" id="latitude" placeholder="Ingrese la Latitud de la Instalacion" #latitude="ngModel" required [disabled]="readonly">
                </div>
                <div *ngIf="latitude.invalid && (latitude.dirty || latitude.touched)">
                    <label class="error">Este campo es requerido.</label>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-group form-group-default required" pgFormGroupDefault>
                    <label>Localidad de la Instalacion</label>
                    <input type="text" class="form-control" [(ngModel)]="data.entity.locality" name="locality" id="locality" placeholder="Ingrese la Loclidad de la Instalacion" #locality="ngModel" required [disabled]="readonly">
                </div>
                <div *ngIf="locality.invalid && (locality.dirty || locality.touched)">
                    <label class="error">Este campo es requerido.</label>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-group form-group-default required" pgFormGroupDefault>
                    <label>Codigo Postal de la Instalacion</label>
                    <input type="text" class="form-control" [(ngModel)]="data.entity.postal_code" name="postal_code" id="postal_code" placeholder="Ingrese el Codigo Postal de la Instalacion" #postal_code="ngModel" required [disabled]="readonly">
                </div>
                <div *ngIf="postal_code.invalid && (postal_code.dirty || postal_code.touched)">
                    <label class="error">Este campo es requerido.</label>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-group form-group-default required" pgFormGroupDefault>
                    <label>Dirección de la Instalacion</label>
                    <input type="text" class="form-control" [(ngModel)]="data.entity.address" name="address" id="address" placeholder="Ingrese la Dirección de la Instalacion" #address="ngModel" required [disabled]="readonly">
                </div>
                <div *ngIf="address.invalid && (address.dirty || address.touched)">
                    <label class="error">Este campo es requerido.</label>
                </div>
            </div>
        </div>
    </form>
</div>
<mat-dialog-actions align="center">
    <button aria-label="" type="button" class="btn btn-cons btn-animated from-top btn-lg font-medium px-3 py-2 border rounded-md" cdkFocusInitial (click)="onCancel(!readonly)">
        <span>{{ readonly ? 'Volver' : 'Cancelar' }}</span>
        <span class="hidden-block">
            <i class="pg-icon">{{ readonly ? 'undo' : 'close' }}</i>
        </span>
    </button>
    <button aria-label="" [hidden]="readonly" [disabled]="userForm.invalid" type="button" class="btn btn-primary btn-cons btn-animated from-top btn-lg font-medium px-3 py-2 border rounded-md" [mat-dialog-close]="data.entity"         [style.background-color]="data.configuration.primary_color"
                        [style.border-color]="data.configuration.primary_color"
                        (mouseover)="data.configuration.primary_color = data.configuration.calculate_hover_primary_color()"
                        (mouseleave)="data.configuration.primary_color = data.configuration.primary_color_back">
        <span>Aceptar</span>
        <span class="hidden-block">
            <i class="pg-icon">save</i>
        </span>
    </button>
</mat-dialog-actions>