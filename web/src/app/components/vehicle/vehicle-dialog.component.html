<h1 mat-dialog-title *ngIf="data.options.update && !readonly; else newone">Actualizar Vehículo "{{data.temporal.name}}"</h1>
<ng-template #newone>
    <h1 mat-dialog-title *ngIf="!readonly; else detail">Nuevo Vehículo</h1>
</ng-template>
<ng-template #detail>
    <h1 mat-dialog-title>Detalles del Vehículo: "{{data.entity.economic_number}}"</h1>
</ng-template>
<div mat-dialog-content>
    <form role="form" #userForm="ngForm">
        <p class="small-text">Información General</p>
        <div class="row">
            <div class="col-md-12">
                <div class="form-group form-group-default form-group-default-select2 required" pgFormGroupDefault>
                    <label>Tipo de Transporte</label>
                    <pg-select (SearchChange)="searchTypes($event)" style="width: 100%;" [(ngModel)]="data.entity.id_transport_type"
                        name="id_transport_type" id="id_transport_type" [PlaceHolder]="'Seleccione el Tipo de Transporte'" ShowSearch="true"
                        NotFoundContent="Tipo de Transporte no encontrado" #id_transport_type="ngModel" required [disabled]="readonly">
                        <pg-option *ngFor="let transportType of transportTypes" [Label]="transportType.type" [Value]="transportType.id">
                        </pg-option>
                    </pg-select>
                </div>
                <div *ngIf="id_transport_type.invalid && (id_transport_type.dirty || id_transport_type.touched)">
                    <label class="error">Este campo es requerido.</label>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-group form-group-default required" pgFormGroupDefault>
                    <label>Número Económico</label>
                    <input type="text" class="form-control" [(ngModel)]="data.entity.economic_number" name="economic_number" id="economic_number" placeholder="Ingrese el Número Económico" #economic_number="ngModel" required [disabled]="readonly">
                </div>
                <div *ngIf="economic_number.invalid && (economic_number.dirty || economic_number.touched)">
                    <label class="error">Este campo es requerido.</label>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-group form-group-default required" pgFormGroupDefault>
                    <label>Número de Licencia</label>
                    <input type="text" class="form-control" [(ngModel)]="data.entity.num_license" name="num_license" id="num_license" placeholder="Ingrese el Número de Licencia" #num_license="ngModel" required [disabled]="readonly">
                </div>
                <div *ngIf="num_license.invalid && (num_license.dirty || num_license.touched)">
                    <label class="error">Este campo es requerido.</label>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-group form-group-default required" pgFormGroupDefault>
                    <label>Número de Placas</label>
                    <input type="text" class="form-control" [(ngModel)]="data.entity.plates" name="plates" id="plates" placeholder="Número de Placas" #plates="ngModel" required [disabled]="readonly">
                </div>
                <div *ngIf="plates.invalid && (plates.dirty || plates.touched)">
                    <label class="error">Este campo es requerido.</label>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-group form-group-default required" pgFormGroupDefault>
                    <label>Marca</label>
                    <input type="text" class="form-control" [(ngModel)]="data.entity.brand" name="brand" id="brand" placeholder="Ingrese la Marca" #brand="ngModel" required [disabled]="readonly">
                </div>
                <div *ngIf="brand.invalid && (brand.dirty || brand.touched)">
                    <label class="error">Este campo es requerido.</label>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-group form-group-default required" pgFormGroupDefault>
                    <label>Modelo</label>
                    <input type="text" class="form-control" [(ngModel)]="data.entity.modelo" name="modelo" id="modelo" placeholder="Ingrese el Modelo" #modelo="ngModel" required [disabled]="readonly">
                </div>
                <div *ngIf="modelo.invalid && (modelo.dirty || modelo.touched)">
                    <label class="error">Este campo es requerido.</label>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-group form-group-default required" pgFormGroupDefault>
                    <label>Año</label>
                    <input type="text" class="form-control" [(ngModel)]="data.entity.year" name="year" id="year" placeholder="Ingrese el año" #year="ngModel" required [disabled]="readonly">
                </div>
                <div *ngIf="year.invalid && (year.dirty || year.touched)">
                    <label class="error">Este campo es requerido.</label>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-group form-group-default required" pgFormGroupDefault>
                    <label>Color</label>
                    <ngx-colors ngx-colors-trigger [(ngModel)]="data.entity.color" name="color" id="color"
                            #color="ngModel" [hideColorPicker]="hideColorPicker" [hideTextInput]="hideTextInput"
                            [disabled]="readonly" [palette]="colorPalette"></ngx-colors>    
                </div>
                <div *ngIf="color.invalid && (color.dirty || color.touched)">
                    <label class="error">Este campo es requerido.</label>
                </div>
            </div>          
            <div class="col-md-12">
                <div class="form-group form-group-default required" pgFormGroupDefault>
                    <label>Aseguradora</label>
                    <input type="text" class="form-control" [(ngModel)]="data.entity.insurance_carrier" name="insurance_carrier" id="insurance_carrier" placeholder="Ingrese la Aseguradora" #insurance_carrier="ngModel" required [disabled]="readonly">
                </div>
                <div *ngIf="insurance_carrier.invalid && (insurance_carrier.dirty || insurance_carrier.touched)">
                    <label class="error">Este campo es requerido.</label>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-group form-group-default required" pgFormGroupDefault>
                    <label>Póliza de Seguro</label>
                    <input type="text" class="form-control" [(ngModel)]="data.entity.insurance_policy" name="insurance_policy" id="insurance_policy" placeholder="Póliza de Seguro" #insurance_policy="ngModel" required [disabled]="readonly">
                </div>
                <div *ngIf="insurance_policy.invalid && (insurance_policy.dirty || insurance_policy.touched)">
                    <label class="error">Este campo es requerido.</label>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-group form-group-default required" pgFormGroupDefault>
                    <label>Kilómetro por Litro</label>
                    <input type="text" class="form-control" [(ngModel)]="data.entity.km_x_liter" name="km_x_liter" id="km_x_liter" placeholder="Kilómetro por Litro" #km_x_liter="ngModel" required [disabled]="readonly">
                </div>
                <div *ngIf="km_x_liter.invalid && (km_x_liter.dirty || km_x_liter.touched)">
                    <label class="error">Este campo es requerido.</label>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-group form-group-default required" pgFormGroupDefault>
                    <label>Capacidad de Gasolina</label>
                    <input type="text" class="form-control" [(ngModel)]="data.entity.capacity" name="capacity" id="capacity" placeholder="Capacidad de Gasolina" #capacity="ngModel" required [disabled]="readonly">
                </div>
                <div *ngIf="capacity.invalid && (capacity.dirty || capacity.touched)">
                    <label class="error">Este campo es requerido.</label>
                </div>
            </div>
        </div>
    </form>
</div>
<mat-dialog-actions align="center">
    <button aria-label="" type="button" class="btn btn-cons btn-animated from-top btn-lg font-medium px-3 py-2 border rounded-md" cdkFocusInitial (click)="onCancel(!readonly)">
        <span>{{ readonly ? 'Volver' : 'Cancelar' }}</span>
        <span class="hidden-block">
            <i class="pg-icon">{{ readonly ? 'undo' : 'close' }}</i>
        </span>
    </button>
    <button aria-label="" [hidden]="readonly" [disabled]="userForm.invalid" type="button" class="btn btn-primary btn-cons btn-animated from-top btn-lg font-medium px-3 py-2 border rounded-md" [mat-dialog-close]="data.entity"         [style.background-color]="data.configuration.primary_color"
                        [style.border-color]="data.configuration.primary_color"
                        (mouseover)="data.configuration.primary_color = data.configuration.calculate_hover_primary_color()"
                        (mouseleave)="data.configuration.primary_color = data.configuration.primary_color_back">
        <span>Aceptar</span>
        <span class="hidden-block">
            <i class="pg-icon">save</i>
        </span>
    </button>
</mat-dialog-actions>